<html xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="fragments/header.html :: css"/>
</head>
<th:block th:fragment="navBar">
    <div class="background"></div>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/user">На главную
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
            </ul>
        </div>
        <div sec:authorize="isAuthenticated()" class="profile-menu dropdown">
            <div class="nav-link dropdown-toggle" role="button" id="menu" data-toggle="dropdown"
                 aria-haspopup="true"
                 aria-expanded="false"> Меню
            </div>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="menu">
                <a class="dropdown-item" href="/user">Список пользователей</a>
                <hr class="dropdown-divider">
                <a class="dropdown-item" sec:authorize="hasRole('ROLE_ADMIN')" href="/user/new"
                >Регистрация
                    user</a>
                <a class="dropdown-item"
                   sec:authorize=" hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')"
                   href="/logout">Выйти</a>
            </div>
        </div>
        <div sec:authorize="isAnonymous()" class="auth-buttons">
            <a class="auth-buttons__login btn btn-success" href="/login">Войти</a>
        </div>

    </nav>
</th:block>
</html>